{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import CameraComponent from\"./components/Camera\";import PoseGuide from\"./components/PoseGuide\";import Results from\"./components/Results\";import\"./styles.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[measurements,setMeasurements]=useState(null);const[currentPose,setCurrentPose]=useState(null);const[isMeasuring,setIsMeasuring]=useState(false);const[userHeight,setUserHeight]=useState(null);const[userWeight,setUserWeight]=useState(null);const[heightSubmitted,setHeightSubmitted]=useState(false);const[poseValid,setPoseValid]=useState(false);const[poseTimer,setPoseTimer]=useState(0);const handleMeasurementResult=data=>{setMeasurements(data);setIsMeasuring(false);setPoseTimer(0);};const handlePoseDetected=(landmarks,valid)=>{setCurrentPose(landmarks);setPoseValid(valid);};const handleUserHeightSubmit=e=>{e.preventDefault();if(userHeight&&userWeight&&userHeight>0&&userWeight>0){setHeightSubmitted(true);}};// Auto-start measurement if pose valid for 30 sec\nuseEffect(()=>{let interval;if(poseValid&&!isMeasuring){interval=setInterval(()=>{setPoseTimer(prev=>{if(prev>=29){setIsMeasuring(true);clearInterval(interval);return 30;}return prev+1;});},1000);}else{setPoseTimer(0);}return()=>clearInterval(interval);},[poseValid,isMeasuring]);return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"WBH - Body Measurement POC\"}),!heightSubmitted?/*#__PURE__*/_jsxs(\"div\",{className:\"height-input-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Masukkan Tinggi & Berat Anda\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUserHeightSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",value:userHeight||\"\",onChange:e=>setUserHeight(parseFloat(e.target.value)),placeholder:\"Tinggi (cm)\",min:\"100\",max:\"250\",step:\"0.1\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",value:userWeight||\"\",onChange:e=>setUserWeight(parseFloat(e.target.value)),placeholder:\"Berat (kg)\",min:\"30\",max:\"200\",step:\"0.1\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Konfirmasi\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"guide-section\",children:[/*#__PURE__*/_jsx(PoseGuide,{currentPose:currentPose}),poseValid?/*#__PURE__*/_jsxs(\"p\",{style:{color:\"green\"},children:[\"Pose valid! Pengukuran otomatis dalam \",5-poseTimer,\" detik...\"]}):/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:\"Pastikan pose Anda benar\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"camera-section\",children:/*#__PURE__*/_jsx(CameraComponent,{onMeasurement:handleMeasurementResult,onPoseDetected:handlePoseDetected,isMeasuring:isMeasuring,setIsMeasuring:setIsMeasuring,userHeight:userHeight,userWeight:userWeight// Kirim ke kamera\n})}),/*#__PURE__*/_jsx(Results,{measurements:measurements})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","CameraComponent","PoseGuide","Results","jsx","_jsx","jsxs","_jsxs","App","measurements","setMeasurements","currentPose","setCurrentPose","isMeasuring","setIsMeasuring","userHeight","setUserHeight","userWeight","setUserWeight","heightSubmitted","setHeightSubmitted","poseValid","setPoseValid","poseTimer","setPoseTimer","handleMeasurementResult","data","handlePoseDetected","landmarks","valid","handleUserHeightSubmit","e","preventDefault","interval","setInterval","prev","clearInterval","className","children","onSubmit","type","value","onChange","parseFloat","target","placeholder","min","max","step","required","style","color","onMeasurement","onPoseDetected"],"sources":["/Users/anjidananto/Projects/Sizer-App-Poc/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport CameraComponent from \"./components/Camera\";\nimport PoseGuide from \"./components/PoseGuide\";\nimport Results from \"./components/Results\";\nimport \"./styles.css\";\n\nfunction App() {\n  const [measurements, setMeasurements] = useState(null);\n  const [currentPose, setCurrentPose] = useState(null);\n  const [isMeasuring, setIsMeasuring] = useState(false);\n  const [userHeight, setUserHeight] = useState(null);\n  const [userWeight, setUserWeight] = useState(null);\n  const [heightSubmitted, setHeightSubmitted] = useState(false);\n  const [poseValid, setPoseValid] = useState(false);\n  const [poseTimer, setPoseTimer] = useState(0);\n\n  const handleMeasurementResult = (data) => {\n    setMeasurements(data);\n    setIsMeasuring(false);\n    setPoseTimer(0);\n  };\n\n  const handlePoseDetected = (landmarks, valid) => {\n    setCurrentPose(landmarks);\n    setPoseValid(valid);\n  };\n\n  const handleUserHeightSubmit = (e) => {\n    e.preventDefault();\n    if (userHeight && userWeight && userHeight > 0 && userWeight > 0) {\n      setHeightSubmitted(true);\n    }\n  };\n\n  // Auto-start measurement if pose valid for 30 sec\n  useEffect(() => {\n    let interval;\n    if (poseValid && !isMeasuring) {\n      interval = setInterval(() => {\n        setPoseTimer((prev) => {\n          if (prev >= 29) {\n            setIsMeasuring(true);\n            clearInterval(interval);\n            return 30;\n          }\n          return prev + 1;\n        });\n      }, 1000);\n    } else {\n      setPoseTimer(0);\n    }\n    return () => clearInterval(interval);\n  }, [poseValid, isMeasuring]);\n\n  return (\n    <div className=\"app\">\n      <h1>WBH - Body Measurement POC</h1>\n      {!heightSubmitted ? (\n        <div className=\"height-input-section\">\n          <h2>Masukkan Tinggi & Berat Anda</h2>\n          <form onSubmit={handleUserHeightSubmit}>\n            <input\n              type=\"number\"\n              className=\"form-control\"\n              value={userHeight || \"\"}\n              onChange={(e) => setUserHeight(parseFloat(e.target.value))}\n              placeholder=\"Tinggi (cm)\"\n              min=\"100\"\n              max=\"250\"\n              step=\"0.1\"\n              required\n            />\n            <input\n              type=\"number\"\n              className=\"form-control\"\n              value={userWeight || \"\"}\n              onChange={(e) => setUserWeight(parseFloat(e.target.value))}\n              placeholder=\"Berat (kg)\"\n              min=\"30\"\n              max=\"200\"\n              step=\"0.1\"\n              required\n            />\n            <button type=\"submit\">Konfirmasi</button>\n          </form>\n        </div>\n      ) : (\n        <div className=\"container\">\n          <div className=\"guide-section\">\n            <PoseGuide currentPose={currentPose} />\n            {poseValid ? (\n              <p style={{ color: \"green\" }}>\n                Pose valid! Pengukuran otomatis dalam {5 - poseTimer} detik...\n              </p>\n            ) : (\n              <p style={{ color: \"red\" }}>Pastikan pose Anda benar</p>\n            )}\n          </div>\n          <div className=\"camera-section\">\n            <CameraComponent\n              onMeasurement={handleMeasurementResult}\n              onPoseDetected={handlePoseDetected}\n              isMeasuring={isMeasuring}\n              setIsMeasuring={setIsMeasuring} \n              userHeight={userHeight}\n              userWeight={userWeight} // Kirim ke kamera\n            />\n          </div>\n          <Results measurements={measurements} />\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}