{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import{FilesetResolver,PoseLandmarker,DrawingUtils}from\"@mediapipe/tasks-vision\";import Webcam from\"react-webcam\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MIN_BODY_FILL=0.75;// minimal tinggi frame terisi tubuh\nconst KEYPOINTS=[0,7,8,11,12,13,14,15,16,23,24,25,26,27,28];// Filter titik penting\nconst CameraComponent=_ref=>{let{onMeasurement,onPoseDetected,userHeight,userWeight}=_ref;const webcamRef=useRef(null);const canvasRef=useRef(null);const[poseLandmarker,setPoseLandmarker]=useState(null);const[isCorrectPose,setIsCorrectPose]=useState(false);const[isLoading,setIsLoading]=useState(false);const[hasSent,setHasSent]=useState(false);const[poseTimer,setPoseTimer]=useState(0);const[isMeasuring,setIsMeasuring]=useState(false);const[poseMessage,setPoseMessage]=useState(\"\");const measurementHistoryRef=useRef([]);/** Utility */// Old code\nconst distance=(a,b)=>Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2));// New Code\n// const normalizeZ = (z) => z * 0.5;\n// const distance = (a, b) => Math.sqrt(\n//     Math.pow(a.x - b.x, 2) +\n//     Math.pow(a.y - b.y, 2) +\n//     Math.pow(normalizeZ(a.z) - normalizeZ(b.z), 2)\n//   );\nconst median=arr=>{const sorted=[...arr].sort((a,b)=>a-b);const mid=Math.floor(sorted.length/2);return sorted.length%2!==0?sorted[mid]:(sorted[mid-1]+sorted[mid])/2;};/** Scale Factor (multi-point reference) */// old code\nconst getScale=landmarks=>{const nose=landmarks[0];const leftAnkle=landmarks[27];const rightAnkle=landmarks[28];const midAnkle={x:(leftAnkle.x+rightAnkle.x)/2,y:(leftAnkle.y+rightAnkle.y)/2};const midShoulder={x:(landmarks[11].x+landmarks[12].x)/2,y:(landmarks[11].y+landmarks[12].y)/2};const midHip={x:(landmarks[23].x+landmarks[24].x)/2,y:(landmarks[23].y+landmarks[24].y)/2};const headToAnkle=distance(nose,midAnkle);const shoulderToAnkle=distance(midShoulder,midAnkle);const hipToAnkle=distance(midHip,midAnkle);const avgPixelHeight=(headToAnkle+shoulderToAnkle+hipToAnkle)/3;return userHeight/avgPixelHeight;};// new code\n//   const getScale = (landmarks) => {\n//   const nose = landmarks[0];\n//   const leftAnkle = landmarks[27];\n//   const rightAnkle = landmarks[28];\n//   const midAnkle = {\n//     x: (leftAnkle.x + rightAnkle.x) / 2,\n//     y: (leftAnkle.y + rightAnkle.y) / 2\n//   };\n//   const headToAnkle2D = Math.sqrt(Math.pow(nose.x - midAnkle.x, 2) + Math.pow(nose.y - midAnkle.y, 2));\n//   return userHeight / (headToAnkle2D * 100); // Karena x,y normalized\n// };\n/** Measurement Calculation */// old code\n// const calculateMeasurements = (landmarks) => {\n//   const scale = getScale(landmarks);\n//   const bmi = userWeight && userHeight ? userWeight / Math.pow(userHeight / 100, 2) : 22;\n//   let adjustmentFactor = 1;\n//   if (bmi > 27) adjustmentFactor = 1.07;\n//   else if (bmi < 18.5) adjustmentFactor = 0.95;\n//   return {\n//     chest: ((distance(landmarks[11], landmarks[12]) * 2.5 * scale) * adjustmentFactor).toFixed(1),\n//     waist: ((distance(landmarks[23], landmarks[24]) * 2.8 * scale) * adjustmentFactor).toFixed(1),\n//     hips: ((distance(landmarks[23], landmarks[24]) * 3.2 * scale) * adjustmentFactor).toFixed(1),\n//     shoulderWidth: (distance(landmarks[11], landmarks[12]) * scale).toFixed(1),\n//     armLength: ((distance(landmarks[11], landmarks[13]) + distance(landmarks[13], landmarks[15])) * scale).toFixed(1),\n//     backLength: (distance(\n//       { x: (landmarks[11].x + landmarks[12].x) / 2, y: (landmarks[11].y + landmarks[12].y) / 2 },\n//       { x: (landmarks[23].x + landmarks[24].x) / 2, y: (landmarks[23].y + landmarks[24].y) / 2 }\n//     ) * scale).toFixed(1),\n//     neck: (distance(landmarks[7], landmarks[8]) * 2.5 * scale).toFixed(1)\n//   };\n// };\n// new code\nconst calculateMeasurements=landmarks=>{const scale=getScale(landmarks);const bmi=userWeight&&userHeight?userWeight/Math.pow(userHeight/100,2):22;let adjustmentFactor=1;if(bmi>27)adjustmentFactor=1.08;else if(bmi<18.5)adjustmentFactor=0.95;const shoulderWidth3D=distance(landmarks[11],landmarks[12]);const hipWidth3D=distance(landmarks[23],landmarks[24]);const chest=shoulderWidth3D*2.6*scale*adjustmentFactor;const waist=hipWidth3D*2.9*scale*adjustmentFactor;const hips=hipWidth3D*3.2*scale*adjustmentFactor;return{chest:chest.toFixed(1),waist:waist.toFixed(1),hips:hips.toFixed(1),shoulderWidth:(shoulderWidth3D*scale).toFixed(1),armLength:((distance(landmarks[11],landmarks[13])+distance(landmarks[13],landmarks[15]))*scale).toFixed(1),backLength:(distance({x:(landmarks[11].x+landmarks[12].x)/2,y:(landmarks[11].y+landmarks[12].y)/2,z:(landmarks[11].z+landmarks[12].z)/2},{x:(landmarks[23].x+landmarks[24].x)/2,y:(landmarks[23].y+landmarks[24].y)/2,z:(landmarks[23].z+landmarks[24].z)/2})*scale).toFixed(1),neck:(distance(landmarks[7],landmarks[8])*2.5*scale).toFixed(1)};};/** Pose Validation */const validatePose=landmarks=>{if(!landmarks||landmarks.length<32)return false;const[leftShoulder,rightShoulder]=[landmarks[11],landmarks[12]];const[leftHip,rightHip]=[landmarks[23],landmarks[24]];const[leftAnkle,rightAnkle]=[landmarks[27],landmarks[28]];const nose=landmarks[0];if(!nose||!leftAnkle||!rightAnkle){setPoseMessage(\"Pastikan seluruh tubuh terlihat di kamera\");return false;}const ys=landmarks.map(p=>p.y);const minY=Math.min(...ys);const maxY=Math.max(...ys);const bodyHeight=maxY-minY;if(bodyHeight<MIN_BODY_FILL){setPoseMessage(\"Mundur sedikit agar seluruh tubuh terlihat\");return false;}const shoulderLevelDiff=Math.abs(leftShoulder.y-rightShoulder.y);const hipLevelDiff=Math.abs(leftHip.y-rightHip.y);const facingCamera=distance(leftShoulder,rightShoulder)>distance(leftHip,rightHip)*0.85;const depthDiff=Math.abs(leftShoulder.z-rightShoulder.z);const valid=shoulderLevelDiff<0.03&&hipLevelDiff<0.03&&facingCamera&&depthDiff<0.05;setIsCorrectPose(valid);setPoseMessage(valid?\"\":\"Posisikan tubuh tegak menghadap kamera.\");return valid;};/** Smoothing */const smoothMeasurements=newData=>{measurementHistoryRef.current.push(newData);if(measurementHistoryRef.current.length>15){measurementHistoryRef.current.shift();}const keys=Object.keys(newData);const smoothed={};keys.forEach(k=>{smoothed[k]=median(measurementHistoryRef.current.map(m=>parseFloat(m[k]))).toFixed(1);});return smoothed;};/** Load Mediapipe */useEffect(()=>{const init=async()=>{setIsLoading(true);const vision=await FilesetResolver.forVisionTasks(\"https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@latest/wasm\");const landmarker=await PoseLandmarker.createFromOptions(vision,{baseOptions:{modelAssetPath:\"https://storage.googleapis.com/mediapipe-models/pose_landmarker/pose_landmarker_full/float16/latest/pose_landmarker_full.task\",delegate:\"GPU\"},runningMode:\"VIDEO\",numPoses:1});setPoseLandmarker(landmarker);setIsLoading(false);};init();},[]);/** Auto Start Measurement after 5 sec valid pose */useEffect(()=>{let timer;if(isCorrectPose&&!isMeasuring){timer=setInterval(()=>{setPoseTimer(prev=>{if(prev>=4){setIsMeasuring(true);clearInterval(timer);return 5;}return prev+1;});},1000);}else{setPoseTimer(0);}return()=>clearInterval(timer);},[isCorrectPose,isMeasuring]);/** Detection Loop */useEffect(()=>{let animationFrame;const runDetection=async()=>{if(!webcamRef.current||!poseLandmarker){animationFrame=requestAnimationFrame(runDetection);return;}const video=webcamRef.current.video;if(video.readyState!==4){animationFrame=requestAnimationFrame(runDetection);return;}const canvas=canvasRef.current;const ctx=canvas.getContext(\"2d\");canvas.width=video.videoWidth;canvas.height=video.videoHeight;ctx.clearRect(0,0,canvas.width,canvas.height);const result=poseLandmarker.detectForVideo(video,performance.now());if(result.landmarks.length>0){const landmarks=result.landmarks[0];const valid=validatePose(landmarks);onPoseDetected(landmarks,valid);const drawingUtils=new DrawingUtils(ctx);drawingUtils.drawLandmarks(landmarks.filter((_,i)=>KEYPOINTS.includes(i)),{color:isCorrectPose?\"#00FF00\":\"#FF0000\",radius:5});if(valid&&isMeasuring&&!hasSent){const rawMeasurements=calculateMeasurements(landmarks);const smoothed=smoothMeasurements(rawMeasurements);if(measurementHistoryRef.current.length>=10){console.log(\"Final Measurements:\",smoothed);onMeasurement(smoothed);setHasSent(true);}}}animationFrame=requestAnimationFrame(runDetection);};if(poseLandmarker){animationFrame=requestAnimationFrame(runDetection);}return()=>cancelAnimationFrame(animationFrame);},[poseLandmarker,isMeasuring,isCorrectPose,hasSent]);return/*#__PURE__*/_jsxs(\"div\",{style:{position:\"relative\"},children:[/*#__PURE__*/_jsx(Webcam,{ref:webcamRef,mirrored:true,style:{width:\"100%\",zIndex:1}}),/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,style:{position:\"absolute\",top:0,left:0,width:\"100%\",height:\"100%\",zIndex:2}}),isLoading&&/*#__PURE__*/_jsx(\"div\",{style:{position:\"absolute\",top:0,left:0,width:\"100%\",height:\"100%\",background:\"rgba(0,0,0,0.6)\",color:\"#fff\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\",zIndex:3},children:/*#__PURE__*/_jsx(\"p\",{children:\"Loading model...\"})}),poseMessage&&/*#__PURE__*/_jsx(\"div\",{style:{position:\"absolute\",bottom:10,left:\"50%\",transform:\"translateX(-50%)\",background:\"rgba(0,0,0,0.8)\",color:\"#fff\",padding:\"10px 15px\",borderRadius:\"8px\",fontSize:\"16px\"},children:poseMessage}),isCorrectPose&&!isMeasuring&&/*#__PURE__*/_jsxs(\"div\",{style:{position:\"absolute\",bottom:50,left:\"50%\",transform:\"translateX(-50%)\",background:\"#000\",color:\"#fff\",padding:\"8px 12px\",borderRadius:\"8px\",fontSize:\"16px\"},children:[\"Pose valid! Pengukuran dimulai dalam \",/*#__PURE__*/_jsx(\"b\",{children:5-poseTimer}),\" detik...\"]})]});};export default CameraComponent;","map":{"version":3,"names":["React","useEffect","useRef","useState","FilesetResolver","PoseLandmarker","DrawingUtils","Webcam","jsx","_jsx","jsxs","_jsxs","MIN_BODY_FILL","KEYPOINTS","CameraComponent","_ref","onMeasurement","onPoseDetected","userHeight","userWeight","webcamRef","canvasRef","poseLandmarker","setPoseLandmarker","isCorrectPose","setIsCorrectPose","isLoading","setIsLoading","hasSent","setHasSent","poseTimer","setPoseTimer","isMeasuring","setIsMeasuring","poseMessage","setPoseMessage","measurementHistoryRef","distance","a","b","Math","sqrt","pow","x","y","median","arr","sorted","sort","mid","floor","length","getScale","landmarks","nose","leftAnkle","rightAnkle","midAnkle","midShoulder","midHip","headToAnkle","shoulderToAnkle","hipToAnkle","avgPixelHeight","calculateMeasurements","scale","bmi","adjustmentFactor","shoulderWidth3D","hipWidth3D","chest","waist","hips","toFixed","shoulderWidth","armLength","backLength","z","neck","validatePose","leftShoulder","rightShoulder","leftHip","rightHip","ys","map","p","minY","min","maxY","max","bodyHeight","shoulderLevelDiff","abs","hipLevelDiff","facingCamera","depthDiff","valid","smoothMeasurements","newData","current","push","shift","keys","Object","smoothed","forEach","k","m","parseFloat","init","vision","forVisionTasks","landmarker","createFromOptions","baseOptions","modelAssetPath","delegate","runningMode","numPoses","timer","setInterval","prev","clearInterval","animationFrame","runDetection","requestAnimationFrame","video","readyState","canvas","ctx","getContext","width","videoWidth","height","videoHeight","clearRect","result","detectForVideo","performance","now","drawingUtils","drawLandmarks","filter","_","i","includes","color","radius","rawMeasurements","console","log","cancelAnimationFrame","style","position","children","ref","mirrored","zIndex","top","left","background","display","justifyContent","alignItems","bottom","transform","padding","borderRadius","fontSize"],"sources":["/Users/anjidananto/Projects/Sizer-App-Poc/src/components/Camera.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { FilesetResolver, PoseLandmarker, DrawingUtils } from \"@mediapipe/tasks-vision\";\nimport Webcam from \"react-webcam\";\n\nconst MIN_BODY_FILL = 0.75; // minimal tinggi frame terisi tubuh\nconst KEYPOINTS = [0, 7, 8, 11, 12, 13, 14, 15, 16, 23, 24, 25, 26, 27, 28]; // Filter titik penting\n\nconst CameraComponent = ({ onMeasurement, onPoseDetected, userHeight, userWeight }) => {\n  const webcamRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [poseLandmarker, setPoseLandmarker] = useState(null);\n  const [isCorrectPose, setIsCorrectPose] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasSent, setHasSent] = useState(false);\n  const [poseTimer, setPoseTimer] = useState(0);\n  const [isMeasuring, setIsMeasuring] = useState(false);\n  const [poseMessage, setPoseMessage] = useState(\"\");\n  const measurementHistoryRef = useRef([]);\n\n  /** Utility */\n  // Old code\n  const distance = (a, b) => Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2));\n\n  // New Code\n  // const normalizeZ = (z) => z * 0.5;\n  // const distance = (a, b) => Math.sqrt(\n  //     Math.pow(a.x - b.x, 2) +\n  //     Math.pow(a.y - b.y, 2) +\n  //     Math.pow(normalizeZ(a.z) - normalizeZ(b.z), 2)\n  //   );\n\n  const median = (arr) => {\n    const sorted = [...arr].sort((a, b) => a - b);\n    const mid = Math.floor(sorted.length / 2);\n    return sorted.length % 2 !== 0 ? sorted[mid] : (sorted[mid - 1] + sorted[mid]) / 2;\n  };\n  \n\n  /** Scale Factor (multi-point reference) */\n  // old code\n  const getScale = (landmarks) => {\n    const nose = landmarks[0];\n    const leftAnkle = landmarks[27];\n    const rightAnkle = landmarks[28];\n    const midAnkle = { x: (leftAnkle.x + rightAnkle.x) / 2, y: (leftAnkle.y + rightAnkle.y) / 2 };\n\n    const midShoulder = { x: (landmarks[11].x + landmarks[12].x) / 2, y: (landmarks[11].y + landmarks[12].y) / 2 };\n    const midHip = { x: (landmarks[23].x + landmarks[24].x) / 2, y: (landmarks[23].y + landmarks[24].y) / 2 };\n\n    const headToAnkle = distance(nose, midAnkle);\n    const shoulderToAnkle = distance(midShoulder, midAnkle);\n    const hipToAnkle = distance(midHip, midAnkle);\n\n    const avgPixelHeight = (headToAnkle + shoulderToAnkle + hipToAnkle) / 3;\n    return userHeight / avgPixelHeight;\n  };\n\n  // new code\n//   const getScale = (landmarks) => {\n//   const nose = landmarks[0];\n//   const leftAnkle = landmarks[27];\n//   const rightAnkle = landmarks[28];\n//   const midAnkle = {\n//     x: (leftAnkle.x + rightAnkle.x) / 2,\n//     y: (leftAnkle.y + rightAnkle.y) / 2\n//   };\n\n//   const headToAnkle2D = Math.sqrt(Math.pow(nose.x - midAnkle.x, 2) + Math.pow(nose.y - midAnkle.y, 2));\n//   return userHeight / (headToAnkle2D * 100); // Karena x,y normalized\n// };\n\n\n  /** Measurement Calculation */\n  // old code\n  // const calculateMeasurements = (landmarks) => {\n  //   const scale = getScale(landmarks);\n  //   const bmi = userWeight && userHeight ? userWeight / Math.pow(userHeight / 100, 2) : 22;\n  //   let adjustmentFactor = 1;\n\n  //   if (bmi > 27) adjustmentFactor = 1.07;\n  //   else if (bmi < 18.5) adjustmentFactor = 0.95;\n\n  //   return {\n  //     chest: ((distance(landmarks[11], landmarks[12]) * 2.5 * scale) * adjustmentFactor).toFixed(1),\n  //     waist: ((distance(landmarks[23], landmarks[24]) * 2.8 * scale) * adjustmentFactor).toFixed(1),\n  //     hips: ((distance(landmarks[23], landmarks[24]) * 3.2 * scale) * adjustmentFactor).toFixed(1),\n  //     shoulderWidth: (distance(landmarks[11], landmarks[12]) * scale).toFixed(1),\n  //     armLength: ((distance(landmarks[11], landmarks[13]) + distance(landmarks[13], landmarks[15])) * scale).toFixed(1),\n  //     backLength: (distance(\n  //       { x: (landmarks[11].x + landmarks[12].x) / 2, y: (landmarks[11].y + landmarks[12].y) / 2 },\n  //       { x: (landmarks[23].x + landmarks[24].x) / 2, y: (landmarks[23].y + landmarks[24].y) / 2 }\n  //     ) * scale).toFixed(1),\n  //     neck: (distance(landmarks[7], landmarks[8]) * 2.5 * scale).toFixed(1)\n  //   };\n  // };\n\n  // new code\n  const calculateMeasurements = (landmarks) => {\n    const scale = getScale(landmarks);\n    const bmi = userWeight && userHeight ? userWeight / Math.pow(userHeight / 100, 2) : 22;\n    let adjustmentFactor = 1;\n\n    if (bmi > 27) adjustmentFactor = 1.08;\n    else if (bmi < 18.5) adjustmentFactor = 0.95;\n\n    const shoulderWidth3D = distance(landmarks[11], landmarks[12]);\n    const hipWidth3D = distance(landmarks[23], landmarks[24]);\n\n    const chest = (shoulderWidth3D * 2.6 * scale) * adjustmentFactor;\n    const waist = (hipWidth3D * 2.9 * scale) * adjustmentFactor;\n    const hips = (hipWidth3D * 3.2 * scale) * adjustmentFactor;\n\n    return {\n      chest: chest.toFixed(1),\n      waist: waist.toFixed(1),\n      hips: hips.toFixed(1),\n      shoulderWidth: (shoulderWidth3D * scale).toFixed(1),\n      armLength: ((distance(landmarks[11], landmarks[13]) + distance(landmarks[13], landmarks[15])) * scale).toFixed(1),\n      backLength: (distance(\n        { x: (landmarks[11].x + landmarks[12].x) / 2, y: (landmarks[11].y + landmarks[12].y) / 2, z: (landmarks[11].z + landmarks[12].z) / 2 },\n        { x: (landmarks[23].x + landmarks[24].x) / 2, y: (landmarks[23].y + landmarks[24].y) / 2, z: (landmarks[23].z + landmarks[24].z) / 2 }\n      ) * scale).toFixed(1),\n      neck: (distance(landmarks[7], landmarks[8]) * 2.5 * scale).toFixed(1)\n    };\n  };\n\n  /** Pose Validation */\n  const validatePose = (landmarks) => {\n    if (!landmarks || landmarks.length < 32) return false;\n\n    const [leftShoulder, rightShoulder] = [landmarks[11], landmarks[12]];\n    const [leftHip, rightHip] = [landmarks[23], landmarks[24]];\n    const [leftAnkle, rightAnkle] = [landmarks[27], landmarks[28]];\n    const nose = landmarks[0];\n\n    if (!nose || !leftAnkle || !rightAnkle) {\n      setPoseMessage(\"Pastikan seluruh tubuh terlihat di kamera\");\n      return false;\n    }\n\n    const ys = landmarks.map(p => p.y);\n    const minY = Math.min(...ys);\n    const maxY = Math.max(...ys);\n    const bodyHeight = maxY - minY;\n    if (bodyHeight < MIN_BODY_FILL) {\n      setPoseMessage(\"Mundur sedikit agar seluruh tubuh terlihat\");\n      return false;\n    }\n\n    const shoulderLevelDiff = Math.abs(leftShoulder.y - rightShoulder.y);\n    const hipLevelDiff = Math.abs(leftHip.y - rightHip.y);\n    const facingCamera = distance(leftShoulder, rightShoulder) > distance(leftHip, rightHip) * 0.85;\n    const depthDiff = Math.abs(leftShoulder.z - rightShoulder.z);\n\n    const valid = shoulderLevelDiff < 0.03 && hipLevelDiff < 0.03 && facingCamera && depthDiff < 0.05;\n    setIsCorrectPose(valid);\n    setPoseMessage(valid ? \"\" : \"Posisikan tubuh tegak menghadap kamera.\");\n    return valid;\n  };\n\n  /** Smoothing */\n  const smoothMeasurements = (newData) => {\n    measurementHistoryRef.current.push(newData);\n    if (measurementHistoryRef.current.length > 15) {\n      measurementHistoryRef.current.shift();\n    }\n    const keys = Object.keys(newData);\n    const smoothed = {};\n    keys.forEach((k) => {\n      smoothed[k] = median(measurementHistoryRef.current.map((m) => parseFloat(m[k]))).toFixed(1);\n    });\n    return smoothed;\n  };\n\n  /** Load Mediapipe */\n  useEffect(() => {\n    const init = async () => {\n      setIsLoading(true);\n      const vision = await FilesetResolver.forVisionTasks(\"https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@latest/wasm\");\n      const landmarker = await PoseLandmarker.createFromOptions(vision, {\n        baseOptions: {\n          modelAssetPath: \"https://storage.googleapis.com/mediapipe-models/pose_landmarker/pose_landmarker_full/float16/latest/pose_landmarker_full.task\",\n          delegate: \"GPU\",\n        },\n        runningMode: \"VIDEO\",\n        numPoses: 1,\n      });\n      setPoseLandmarker(landmarker);\n      setIsLoading(false);\n    };\n    init();\n  }, []);\n\n  /** Auto Start Measurement after 5 sec valid pose */\n  useEffect(() => {\n    let timer;\n    if (isCorrectPose && !isMeasuring) {\n      timer = setInterval(() => {\n        setPoseTimer((prev) => {\n          if (prev >= 4) {\n            setIsMeasuring(true);\n            clearInterval(timer);\n            return 5;\n          }\n          return prev + 1;\n        });\n      }, 1000);\n    } else {\n      setPoseTimer(0);\n    }\n    return () => clearInterval(timer);\n  }, [isCorrectPose, isMeasuring]);\n\n  /** Detection Loop */\n  useEffect(() => {\n    let animationFrame;\n    const runDetection = async () => {\n      if (!webcamRef.current || !poseLandmarker) {\n        animationFrame = requestAnimationFrame(runDetection);\n        return;\n      }\n\n      const video = webcamRef.current.video;\n      if (video.readyState !== 4) {\n        animationFrame = requestAnimationFrame(runDetection);\n        return;\n      }\n\n      const canvas = canvasRef.current;\n      const ctx = canvas.getContext(\"2d\");\n      canvas.width = video.videoWidth;\n      canvas.height = video.videoHeight;\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n      const result = poseLandmarker.detectForVideo(video, performance.now());\n      if (result.landmarks.length > 0) {\n         const landmarks = result.landmarks[0];\n        const valid = validatePose(landmarks);\n        onPoseDetected(landmarks, valid);\n\n        const drawingUtils = new DrawingUtils(ctx);\n        drawingUtils.drawLandmarks(\n          landmarks.filter((_, i) => KEYPOINTS.includes(i)),\n          { color: isCorrectPose ? \"#00FF00\" : \"#FF0000\", radius: 5 }\n        );\n\n        if (valid && isMeasuring && !hasSent) {\n          const rawMeasurements = calculateMeasurements(landmarks);\n          const smoothed = smoothMeasurements(rawMeasurements);\n          if (measurementHistoryRef.current.length >= 10) {\n            console.log(\"Final Measurements:\", smoothed);\n            onMeasurement(smoothed);\n            setHasSent(true);\n          }\n        }\n      }\n\n      animationFrame = requestAnimationFrame(runDetection);\n    };\n\n    if (poseLandmarker) {\n      animationFrame = requestAnimationFrame(runDetection);\n    }\n    return () => cancelAnimationFrame(animationFrame);\n  }, [poseLandmarker, isMeasuring, isCorrectPose, hasSent]);\n\n  return (\n    <div style={{ position: \"relative\" }}>\n      <Webcam ref={webcamRef} mirrored style={{ width: \"100%\", zIndex: 1 }} />\n      <canvas ref={canvasRef} style={{ position: \"absolute\", top: 0, left: 0, width: \"100%\", height: \"100%\", zIndex: 2 }} />\n\n      {isLoading && (\n        <div style={{\n          position: \"absolute\", top: 0, left: 0, width: \"100%\", height: \"100%\",\n          background: \"rgba(0,0,0,0.6)\", color: \"#fff\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\", zIndex: 3\n        }}>\n          <p>Loading model...</p>\n        </div>\n      )}\n\n      {poseMessage && (\n        <div style={{\n          position: \"absolute\", bottom: 10, left: \"50%\", transform: \"translateX(-50%)\",\n          background: \"rgba(0,0,0,0.8)\", color: \"#fff\", padding: \"10px 15px\", borderRadius: \"8px\", fontSize: \"16px\"\n        }}>\n          {poseMessage}\n        </div>\n      )}\n\n      {isCorrectPose && !isMeasuring && (\n        <div style={{\n          position: \"absolute\", bottom: 50, left: \"50%\", transform: \"translateX(-50%)\",\n          background: \"#000\", color: \"#fff\", padding: \"8px 12px\", borderRadius: \"8px\", fontSize: \"16px\"\n        }}>\n          Pose valid! Pengukuran dimulai dalam <b>{5 - poseTimer}</b> detik...\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CameraComponent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}